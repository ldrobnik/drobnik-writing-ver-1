{"version":3,"file":"collapse.directive.js","sourceRoot":"","sources":["../../.tmp/collapse/collapse.directive.ts"],"names":[],"mappings":"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","sourcesContent":["// todo: add animations when https://github.com/angular/angular/issues/9947 solved\nimport {\n  Directive, ElementRef, EventEmitter, HostBinding, Input, OnInit, Output,\n  Renderer, style\n} from '@angular/core';\n\n@Directive({\n  selector: '[collapse]',\n  exportAs: 'bs-collapse',\n  /* tslint:disable-next-line */\n  host: {'[class.collapse]': 'true'}/*,\n  animations: [\n    trigger('active', [\n      state('void', style({height: 0})),\n      state('closed', style({height: 0})),\n      state('open', style({height: '*'})),\n      transition('void => closed', [animate(0)]),\n      transition('closed => open', [animate('350ms ease-out')]),\n      transition('open => closed', [animate('350ms ease-out')])\n    ])\n  ]*/\n})\nexport class CollapseDirective {\n  /** This event fires as soon as content collapses */\n  @Output() public collapsed: EventEmitter<any> = new EventEmitter();\n  /** This event fires as soon as content becomes visible */\n  @Output() public expanded: EventEmitter<any> = new EventEmitter();\n\n  @HostBinding('style.display')\n  public display: string;\n  // shown\n  @HostBinding('class.in')\n  @HostBinding('class.show')\n  @HostBinding('attr.aria-expanded')\n  public isExpanded: boolean = true;\n  // hidden\n  @HostBinding('attr.aria-hidden')\n  public isCollapsed: boolean = false;\n  // stale state\n  @HostBinding('class.collapse')\n  public isCollapse: boolean = true;\n  // animation state\n  @HostBinding('class.collapsing')\n  public isCollapsing: boolean = false;\n\n  /** A flag indicating visibility of content (shown or hidden) */\n  @Input()\n  public set collapse(value: boolean) {\n    this.isExpanded = value;\n    this.toggle();\n  }\n\n  public get collapse(): boolean {\n    return this.isExpanded;\n  }\n\n  protected _el: ElementRef;\n  protected _renderer: Renderer;\n\n  public constructor(_el: ElementRef, _renderer: Renderer) {\n    this._el = _el;\n    this._renderer = _renderer;\n  }\n\n  /** allows to manually toggle content visibility */\n  public toggle(): void {\n    if (this.isExpanded) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  /** allows to manually hide content */\n  public hide(): void {\n    this.isCollapse = false;\n    this.isCollapsing = true;\n\n    this.isExpanded = false;\n    this.isCollapsed = true;\n\n    this.isCollapse = true;\n    this.isCollapsing = false;\n\n    this.display = 'none';\n    this.collapsed.emit(this);\n  }\n\n  /** allows to manually show collapsed content */\n  public show(): void {\n    this.isCollapse = false;\n    this.isCollapsing = true;\n\n    this.isExpanded = true;\n    this.isCollapsed = false;\n\n    this.display = 'block';\n    // this.height = 'auto';\n    this.isCollapse = true;\n    this.isCollapsing = false;\n    this._renderer.setElementStyle(this._el.nativeElement, 'overflow', 'visible');\n    this._renderer.setElementStyle(this._el.nativeElement, 'height', 'auto');\n    this.expanded.emit(this);\n  }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}